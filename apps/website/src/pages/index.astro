---
import PortableText from "../components/PortableText.astro";
import Layout from "../layouts/Layout.astro";
import Background from "../components/Background.astro";
import { getHome } from "../utils/sanity"
import { urlFor } from "../utils/image"
import SanityImage from "../components/SanityImage.astro"

// import { Debug } from 'astro:components';

const { 
  title, 
  headline, 
  hero, 
  imageProfile, 
  nameCaption, 
  titleCaption, 
  content, 
  email,
  phone, 
  soundcloudLink 
 } = await getHome();

const profileUrl = urlFor(imageProfile).fit('max').auto('format').url()
---

<Layout pageTitle={title}>
  
    <SanityImage node={hero} width={1220}>

      
      <div class:list={[]}>
        <div class="py-8 px-4 mx-auto max-w-screen-xl text-white lg:py-16 z-1">
          <div class="max-w-sm bg-transparent border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
            <div class="p-5 flex flex-col items-center font-serif">
                <h5 class="mb-2 text-2xl dark:text-white">{nameCaption}</h5>
                <p class="mb-3 font-normal text-xl dark:text-gray-400">{titleCaption}</p>
            </div>
            <div>
                <img class:list={['rounded-lg', 'w-full']} src={profileUrl} alt="portrait of Richard smiling and sitting down leaning on his right knee with his elbow leading up to his head resting on his right hand while his left arm drapes comfortably across his lap. He's wearing jeans and a dark t-shirt." />
            </div>
          </div>
        </div>
      </div>
    </SanityImage>
    <section class:list={['mt-16', 'flex', 'flex-col', 'items-center']}>
      <div class="mb-6 max-w-screen-lg lg:mb-0">
        <h1 class="mb-4 text-indigo-900 text-4xl font-sans tracking-tight leading-none md:text-5xl lg:text-6xl">{title}</h1>
        <p class="mb-6 font-light text-gray-400 lg:mb-8 text-2xl md:text-lg lg:text-xl">
          <PortableText blocks={{content}}>
          </p>
        </div>              
    </section>
</Layout>

<style>
</style>